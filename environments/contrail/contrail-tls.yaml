resource_registry:
  # ====
  # IPA certs lifecycle management parameters:
  # ====
  OS::TripleO::Services::ContrailCertmongerUser: ../../docker/services/contrail/contrail-certmonger-user.yaml

  # In case if tripleo-heat-templates/environments/ssl/enable-internal-tls.yaml is not 
  # included into deploy then uncomment the below definitions for IpaClient
  # and ServiceServerMetadataHook
  OS::TripleO::Services::IpaClient: ../../extraconfig/services/ipaclient.yaml
  OS::TripleO::ContrailControllerServiceServerMetadataHook: ../../extraconfig/nova_metadata/krb-service-principals/contrailcontroller-role.yaml
  OS::TripleO::ContrailControlOnlyServiceServerMetadataHook: ../../extraconfig/nova_metadata/krb-service-principals/contrailcontrolonly-role.yaml
  OS::TripleO::ContrailAnalyticsServiceServerMetadataHook: ../../extraconfig/nova_metadata/krb-service-principals/contrailanalytics-role.yaml
  OS::TripleO::ContrailAnalyticsDatabaseServiceServerMetadataHook: ../../extraconfig/nova_metadata/krb-service-principals/contrailanalyticsdatabase-role.yaml
  OS::TripleO::ComputeServiceServerMetadataHook: ../../extraconfig/nova_metadata/krb-service-principals/compute-role.yaml
  OS::TripleO::ContrailDpdkServiceServerMetadataHook: ../../extraconfig/nova_metadata/krb-service-principals/contraildpdk-role.yaml
  OS::TripleO::ContrailTlsServiceServerMetadataHook: ../../extraconfig/nova_metadata/krb-service-principals/contrailtls-role.yaml
  OS::TripleO::ContrailSriovServiceServerMetadataHook: ../../extraconfig/nova_metadata/krb-service-principals/contrailsriov-role.yaml


  # ====
  # Manual certs lifecycle management parameters:
  # ====
  # OS::TripleO::Services::ContrailCertmongerUser: OS::Heat::None
  # OS::TripleO::ServiceServerMetadataHook: OS::Heat::None

parameter_defaults:
  ContrailSslEnabled: true
  ContrailServiceCertFile: '/etc/contrail/ssl/certs/server.pem'
  ContrailServiceKeyFile: '/etc/contrail/ssl/private/server-privkey.pem'

  # ====
  # IPA certs lifecycle management parameters:
  # ====
  ContrailCA: 'IPA'
  # For IPA fqdn should be used for Contrail services lists
  contrail_nodes_param_suffux: 'node_names'
  # Server metadata should be True for IPA case
  ServerMetadata:
    ipa_enroll: True
  # For now only /etc/contrail/ssl dir is supported.
  ContrailCaCertFile: '/etc/ipa/ca.crt'
  ContrailCaKeyFile: ''

  # ====
  # Manual certs lifecycle management parameters:
  # ====
  # ContrailCA: 'local'
  # CA files paths, CA cert, CA key to sign contrail services certificates
  # In case of IPA they must be empty / not_defined  
  # ContrailCaCertFile: '/etc/contrail/ssl/certs/ca-cert.pem'
  # ContrailCaKeyFile: '/etc/contrail/ssl/private/ca-key.pem'
  # ContrailCaCert: |
  #   CA certificate content
  # ContrailCaKey: |
  #   CA private key content
